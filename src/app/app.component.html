<div class="todo-app">
    <h1>Lista de tareas</h1>

    <div class="add-todo">
        <input type="text" [(ngModel)]="newTodoText" (keyup.enter)="addTodo()" placeholder="¿Qué necesitas hacer?"
            aria-label="Nueva tarea" />
        <button (click)="addTodo()" [disabled]="!newTodoText.trim()">Agregar</button>
    </div>

    <ul class="todo-list">
        <li *ngFor="let todo of todos(); trackBy: trackByTodoId" [class.completed]="todo.completed">
            <input type="checkbox" [checked]="todo.completed" (change)="toggle(todo.id)" />
            <span class="todo-text">{{ todo.text }}</span>
            <button class="delete-btn" (click)="delete(todo.id)">&times;</button>
        </li>
    </ul>

    <div class="footer">
        <span class="pending-count"> Tareas pendientes: <strong>{{ pendingCount() }}</strong></span>
        <button class="clear-btn" (click)="clearCompleted()">Limpiar completadas</button>
    </div>

    <p class="localStorage-note">
        * Las tareas se guardan automáticamente en el almacenamiento local del navegador.
    </p>
</div>